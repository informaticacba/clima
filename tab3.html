<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Cambio Climatico</title>

	<!-- Bootstrap core CSS -->
	<link href="css/bootstrap.css" rel="stylesheet">

	<!-- Font Awesome -->
	<link href="css/font-awesome.min.css" rel="stylesheet">

	<!-- Tabs Style -->
	<link type="text/css" rel="stylesheet" href="css/tabs_style.css" />
	
	<link href="css/c3.css" rel="stylesheet" type="text/css">    

	<!-- Custom styles for this template -->
	<link href="css/main_style.css" rel="stylesheet">

	<!-- Leaflet -->
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />

</head>

<body>	
	<div class="container-clima">
		<div class="row">
			<div class="principal-navbar">
				<div class="climatic-title">
					<p class="climatic-changetext">Cambio Climático</p>
				</div>
				<div class="tab1-nav pull-right" style="padding-right: 30px">
					<div class="top-tabs">
						<a href="index.html">Cambio Climático</a>
					</div>	
					<div class="top-tabs">
						<a href="tab2.html"><p>¿Por qué pasa?</p></a>
					</div>
					<div class="top-tabs">
						<a href="tab3.html"><p class="nav-tab-active">¿Cómo me afecta?</p></a>
					</div>			
					<div class="top-tabs">
						<a href="tab4.html">Acciones</a>
					</div>															
				</div>			
			</div>	
			<div id="responsiveTabsContainer">
						    
			    <div id="tab-4">
					<p class="huge-title">¿Cómo me afecta?</p>				    
				    <p class="black-text">
					El cambio climático nos afecta a todos ya que su impacto potencial es enorme. El cambio climático no es únicamente un fenómeno ambiental, sino también de profundas consecuencias económicas y sociales. Los países más pobres que no están preparados para enfrentar cambios rápidos, serán los que sufrirán las peores consecuencias.

					Se han desarrollado en el mundo diversos modelos que proyectan los posibles cambios en temperatura y precipitación. mismos que han sido mejorados a lo largo de la última década. Es importante resaltar que los escenarios de cambio climático no son pronósticos, sino el resultado de modelos climáticos que simulan condiciones futuras ante el cambio de las concentraciones de gases de efecto invernadero (GEI), proyectadas bajo diferentes condiciones económicas y sociales a nivel planetario.

					Para México, se han desarrollado modelos para medir los impactos del cambio climático en sectores prioritarios, bajo un escenario de aumento en temperatura entre +2.5ºC a 4.5ºC, y disminución en la precipitación entre -5 y 10%, con respecto a los promedios de temperatura y precipitación del periodo 1961-1990.

				    </p> 

					<p class="subtitle" style="padding-top: 30px; padding-bottom: 20px;">
						Consecuencias del cambio climático
					</p>    
					
					<p class="subtitle" style="padding-top: 30px; padding-bottom: 20px;">
						Impactos Ambientales					
					</p>
					
					<p class="black-text">
						El impacto ambiental se define como “la modificación del ambiente ocasionada por la acción del hombre o de la naturaleza”. A continuación se muestran diversos impactos ambientales comúnmente relacionados con el cambio climático. Es importante resaltar que estos impactos no necesariamente dependen de los indicadores mostrados en la sección ¿Por qué pasa?
					</p>
					<br>
					
					<div class="select-container">
						<p class="text-center select-text">
							Selecciona un indicador 
						</p>		
						<select id="opciones" class="indicator_select">
						</select>
					</div>	
					<br>					
					<div class="row">
						<div class="col-xs-12">
							<div id="map"></div>
						</div>
					</div>	
					
					<br>
					<div class="row">
						<div class="col-xs-2" id="anio2010">
							<p class="text-center map-year"><strong>2010</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2011">
							<p class="text-center map-year"><strong>2011</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2012">
							<p class="text-center map-year"><strong>2012</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2013">
							<p class="text-center map-year"><strong>2013</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2014">
							<p class="text-center map-year"><strong>2014</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2015">
							<p class="text-center map-year aqua-text"><strong>2015</strong></p>
						</div>																									
					</div>
					<br>
					<!-- Data table-->
					<div class="">
						<h4 class="subtitle"><strong>Datos</strong></h4>	
						<div class="data-table-container center-block">
							<br>
							<div class="titles-databar">
								<div class="name-databar">
									<img class="triangle-image" src="img/triangle.svg">
									<p>Nombre</p>
								</div>						
								<div class="dependence-databar">
									<img class="triangle-image" src="img/triangle.svg">
									<p>Dependencia</p>
								</div>
								<div class="date-databar">
									<img class="triangle-image" src="img/triangle.svg">
									<p>Fecha</p>
								</div>
								<div class="format-databar">
									<img class="triangle-image" src="img/triangle.svg">
									<p>Formato</p>
								</div>
							</div>		
							<div class="data-bar">
								<div class="description-databar">
									<p>EMPRESAS PRODUCTORAS DE MINERALES METÁLICOS Y NO METÁLICOS, EMBAJADAS, INSTIT...POPULAR</p> 
								</div>	
								<div class="secretary-databar">
									<p>Secretaría de Salud</p>
								</div>
								<div class="datetext-databar">
									<p>25/Nov/2015</p>
								</div>
								<div class="formatcontainer-databar">
									<div class="csv-format">
										<p class="format-texts">CSV</p>
									</div>
									<div class="klm-format">
										<p class="format-texts">KLM</p>
									</div>		
								</div>
								<div class="greyblock-databar pull-right">
									<img class="green-bars" src="img/green_bars.svg">
								</div>		
							</div>
							<br>
							<div class="data-bar">
								<div class="description-databar">
									<p>EMPRESAS PRODUCTORAS DE MINERALES METÁLICOS Y NO METÁLICOS, EMBAJADAS, INSTIT...POPULAR</p> 
								</div>	
								<div class="secretary-databar">
									<p>Secretaría de Salud</p>
								</div>
								<div class="datetext-databar">
									<p>25/Nov/2015</p>
								</div>
								<div class="formatcontainer-databar">
									<div class="csv-format">
										<p class="format-texts">CSV</p>
									</div>
									<div class="klm-format">
										<p class="format-texts">KLM</p>
									</div>		
								</div>
								<div class="greyblock-databar pull-right">
									<img class="green-bars" src="img/green_bars.svg">
								</div>		
							</div>
							<br>
							<div class="data-bar">
								<div class="description-databar">
									<p>EMPRESAS PRODUCTORAS DE MINERALES METÁLICOS Y NO METÁLICOS, EMBAJADAS, INSTIT...POPULAR</p> 
								</div>	
								<div class="secretary-databar">
									<p>Secretaría de Salud</p>
								</div>
								<div class="datetext-databar">
									<p>25/Nov/2015</p>
								</div>
								<div class="formatcontainer-databar">
									<div class="csv-format">
										<p class="format-texts">CSV</p>
									</div>
									<div class="klm-format">
										<p class="format-texts">KLM</p>
									</div>		
								</div>
								<div class="greyblock-databar pull-right">
									<img class="green-bars" src="img/green_bars.svg">
								</div>		
							</div>
							<br>
							<div class="data-bar">
								<div class="description-databar">
									<p>EMPRESAS PRODUCTORAS DE MINERALES METÁLICOS Y NO METÁLICOS, EMBAJADAS, INSTIT...POPULAR</p> 
								</div>	
								<div class="secretary-databar">
									<p>Secretaría de Salud</p>
								</div>
								<div class="datetext-databar">
									<p>25/Nov/2015</p>
								</div>
								<div class="formatcontainer-databar">
									<div class="csv-format">
										<p class="format-texts">CSV</p>
									</div>
									<div class="klm-format">
										<p class="format-texts">KLM</p>
									</div>		
								</div>
								<div class="greyblock-databar pull-right">
									<img class="green-bars" src="img/green_bars.svg">
								</div>		
							</div>
							<br>
							<br>
								
						</div>

					</div>
			
				</div>
				
			</div>
		</div>	
    </div>
	<!-- /.container -->
	<div class="black-footer">
		<div class="lists-container center-block">
			<div class="footer-lists">
				<ul style="list-style-type: none; padding-left: 40px;">
					<li class="lists-titles">Datos</li>
					<li>Cultura</li>
					<li>Salud</li>
					<li>Geografía</li>
					<li>Seguridad</li>
					<li>Medio Ambiente</li>
					<li>Educación</li>
					<li>Economía</li>
					<li>Turismo</li>
				</ul>
			</div>
			<div class="footer-lists">
				<ul style="list-style-type: none; padding-left: 30px;">
					<li class="lists-titles">Herramientas</li>
					<li>Apps Web</li>
					<li>Apps Móviles</li>
					<li>Interactivas</li>
				</ul>
			</div>
			<div class="footer-lists">
				<ul style="list-style-type: none; padding-left: 30px;">
					<li class="lists-titles">Impacto</li>
					<li>Casos de uso</li>
					<li>Noticias</li>
				</ul>
			</div>
			<div class="footer-lists">
				<ul style="list-style-type: none; padding-left: 30px;">
					<li class="lists-titles">Guía</li>
					<li>Pasos y recursos</li>
					<li>Tablero de avances</li>
				</ul>
			</div>
			<div class="footer-diflist">
				<ul style="list-style-type: none; padding-left: 30px;">
					<li class="lists-titles">Retos</li>
					<li class="lists-titles">Consejo Consultivo</li>
					<li class="lists-titles">Red México Abierto</li>
					<li class="lists-titles">Adela</li>
				</ul>
			</div>		
			<div class="footer-lists">
			<ul style="list-style-type: none; padding-left: 30px;">
				<li class="lists-titles">Acerca</li>
				<br>
				<li class="lists-titles">Ayuda</li>
				<li>Preguntas Frecuentes</li>
				<li>Foro</li>
			</ul>
			</div>
		</div>			
	</div>
	

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    
    <script src="js/jquery-1.11.0.min.js"></script>    
    <script src="js/bootstrap.js"></script>


	<!-- Leaflet -->
	<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
	
	<script type="text/javascript">
				
		var main_url= "http://trebolbit.mx/cambio_climatico/"
		
		$('#tab1').click(function(){
			window.location.href=main_url;
		});
		$('#tab2').click(function(){
			window.location.href=main_url+"tab2.html";
		});
		$('#tab3').click(function(){
			window.location.href=main_url+"tab3.html";
		});
		$('#tab4').click(function(){
			window.location.href=main_url+"tab4.html";
		});		

		var estados;
		var anio = 2015;
		var op = 1;
		var topEs;
		var filas = "";
		var ind; 

		$('#anio2010').click(function() {
			anio = 2010;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2011').click(function() {
			anio = 2011;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2012').click(function() {
			anio = 2012;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2013').click(function() {
			anio = 2013;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2014').click(function() {
			anio = 2014;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2015').click(function() {
			anio = 2015;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#opciones').change(function() {

			if($(this).val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($(this).val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($(this).val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}

		});

		function crearFilasIndicador1() {

			topEs.features.sort(function(a,b) {
					return b.properties.ganado[0].valor - a.properties.ganado[0].valor;
				});

				filas = '<table class="table table-striped table-condensed table-top"><tr><td><b>Estado</b></td><td><b>CO2</b></td><td><b>PIB</b></td></tr>'
				+ '<tr><td>' + topEs.features[0].properties.name + '</td><td>' + topEs.features[0].properties.ganado[0].valor + '</td><td>250</td></tr>' 
				+ '<tr><td>' + topEs.features[1].properties.name + '</td><td>' + topEs.features[1].properties.ganado[0].valor + '</td><td>130</td></tr>' 
				+ '<tr><td>' + topEs.features[2].properties.name + '</td><td>' + topEs.features[2].properties.ganado[0].valor + '</td><td>130</td></tr>' 
				+ '<tr><td>' + topEs.features[3].properties.name + '</td><td>' + topEs.features[3].properties.ganado[0].valor + '</td><td>130</td></tr>' 
				+ '<tr><td>' + topEs.features[4].properties.name + '</td><td>' + topEs.features[4].properties.ganado[0].valor + '</td><td>130</td></tr>'
				+ '</table>';

		}

		function crearFilasIndicador2() {

			topEs.features.forEach(function(el) {
				el.properties.incendios.forEach(function(ele, index) {
					//console.log(ele.tiempo);
					if ( ele.tiempo == anio ) {
						ind = index;
						console.log(ind);
					}
				});
			});

			topEs.features.sort(function(a,b) {
				return b.properties.incendios[ind].valor - a.properties.incendios[ind].valor;
			});

			filas = '<table class="table table-striped table-condensed table-top"><tr><td><b>Estado</b></td><td><b>CO2</b></td><td><b>PIB</b></td></tr>'
			+ '<tr><td>' + topEs.features[0].properties.name + '</td><td>' + topEs.features[0].properties.incendios[ind].valor + '</td><td>250</td></tr>' 
			+ '<tr><td>' + topEs.features[1].properties.name + '</td><td>' + topEs.features[1].properties.incendios[ind].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[2].properties.name + '</td><td>' + topEs.features[2].properties.incendios[ind].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[3].properties.name + '</td><td>' + topEs.features[3].properties.incendios[ind].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[4].properties.name + '</td><td>' + topEs.features[4].properties.incendios[ind].valor + '</td><td>130</td></tr>'
			+ '</table>';

		}

		function crearFilasIndicador3() {

			

			topEs.features.sort(function(a,b) {
				return b.properties.sembrada[0].valor - a.properties.sembrada[0].valor;
			});

			filas = '<table class="table table-striped table-condensed table-top"><tr><td><b>Estado</b></td><td><b>CO2</b></td><td><b>PIB</b></td></tr>'
			+ '<tr><td>' + topEs.features[0].properties.name + '</td><td>' + topEs.features[0].properties.sembrada[0].valor + '</td><td>250</td></tr>' 
			+ '<tr><td>' + topEs.features[1].properties.name + '</td><td>' + topEs.features[1].properties.sembrada[0].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[2].properties.name + '</td><td>' + topEs.features[2].properties.sembrada[0].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[3].properties.name + '</td><td>' + topEs.features[3].properties.sembrada[0].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[4].properties.name + '</td><td>' + topEs.features[4].properties.sembrada[0].valor + '</td><td>130</td></tr>' 
			+ '</table>';

		}



		function pintarMapa() {
			function style1(feature) {
				return {
					weight: 2,
					opacity: 1,
					color: 'white',
					dashArray: '3',
					fillOpacity: 0.7,
					fillColor: getColor(feature.properties.ganado[0].valor)
				};
			}
			
			info.removeFrom(map);

			info.onAdd = function (map) {
				this._div = L.DomUtil.create('div', 'info');
				this.update();
				return this._div;
			}

			info.update = function (props) {
				this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
					+ 'Población: ' + props.pob_2014 + '<br>' 
					+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
					+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
					+ '<b>Top estados generadores</b><br>'
					+ filas : '');
			};

			info.addTo(map);

			map.removeLayer(geojson);

			geojson = L.geoJson(estados, {
				style: style1,
				onEachFeature: onEachFeature
			}).addTo(map);
		}


		function pintarMapa2() {
			function style2(feature) {
					return {
						weight: 2,
						opacity: 1,
						color: 'white',
						dashArray: '3',
						fillOpacity: 0.7,
						fillColor: getColor(feature.properties.incendios[ind].valor)
					};
				}

				info.removeFrom(map);

				info.onAdd = function (map) {
					this._div = L.DomUtil.create('div', 'info');
					this.update();
					return this._div;
				}

				info.update = function (props) {
					this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
						+ 'Población: ' + props.pob_2014 + '<br>' 
						+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
						+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
						+ '<b>Top estados generadores</b><br>' 
						+ filas : '');
				};

				info.addTo(map);

				map.removeLayer(geojson);

				geojson = L.geoJson(estados, {
					style: style2,
					onEachFeature: onEachFeature
				}).addTo(map);
		}

		function pintarMapa3() {
			function style3(feature) {
					return {
						weight: 2,
						opacity: 1,
						color: 'white',
						dashArray: '3',
						fillOpacity: 0.7,
						fillColor: getColor(feature.properties.sembrada[0].valor)
					};
				}

				info.removeFrom(map);

				info.onAdd = function (map) {
					this._div = L.DomUtil.create('div', 'info');
					this.update();
					return this._div;
				}

				info.update = function (props) {
					this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
						+ 'Población: ' + props.pob_2014 + '<br>' 
						+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
						+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
						+ '<b>Top estados generadores</b><br>' 
						+ filas : '');
				};

				info.addTo(map);

				map.removeLayer(geojson);

				geojson = L.geoJson(estados, {
					style: style3,
					onEachFeature: onEachFeature
				}).addTo(map);
		}



		$.ajax({
			//url: "data/states_temp.json",
			//url: "data/states_temp_2by2.json",
			//url: "data/states_temp2byall.json",
			url: "data/screen2all_states.json",
			async: false,
			success: function(data){
				console.log(data);
				estados = data;
				topEs = data;
				estados2 = data;
				topEs2 = data;

				var i = 1;
				$.each(data.features[0].properties, function(key, value) {
				    //console.log(key + " : " + value);
				    if(Array.isArray(value)) {
				    	//console.log(key + " : " + value);
				    	$("#opciones").append(new Option(key, i));
				    	$("#opciones_2").append(new Option(key, i));
				    	i++;
				    }
				}); 

				
			},
			error: function(err) {
				console.log(err.responseText);
				estados = err.responseText;
				topEs = err.responseText;
				estados2 = err.responseText;
				topEs2 = err.responseText;
			}
		});

		var map = L.map('map', {zoomControl: true}).setView([25.511791, -101.080072], 5);
		

		// Disable drag and zoom handlers.
		//map.dragging.disable();
		map.touchZoom.disable();
		map.doubleClickZoom.disable();
		map.scrollWheelZoom.disable();

		// Disable tap handler, if present.
		if (map.tap) map.tap.disable();

		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6IjZjNmRjNzk3ZmE2MTcwOTEwMGY0MzU3YjUzOWFmNWZhIn0.Y8bhBaUMqFiPrDRW9hieoQ', {
			maxZoom: 7,
			minZoom: 4,
			id: 'mapbox.light'
		}).addTo(map);

		var info = L.control();

		info.onAdd = function (map) {
			this._div = L.DomUtil.create('div', 'info');
			this.update();
			return this._div;
		};

		info.update = function (props) {
			crearFilasIndicador1();
			this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
				+ 'Población: ' + props.pob_2014 + '<br>' 
				+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
				+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
				+ '<b>Top estados generadores</b><br>' 
				+ filas : '');
		};

		info.addTo(map);

		function getColor(d) {
			return d > 1050000 ? '#009975' :
			       d > 90000 ? '#00b388' :
			       d > 75000 ? '#00cc9c' :
			       d > 60000 ? '#00ffc3' :
			       d > 45000 ? '#33ffcf' :
			       d > 30000 ? '#66ffdb' :
			       d > 15000 ? '#99ffe7' :
			                     '#ccfff3';
		}

		function style(feature) {
			return {
				weight: 2,
				opacity: 1,
				color: 'white',
				dashArray: '3',
				fillOpacity: 0.7,
				fillColor: getColor(feature.properties.ganado[0].valor)
			};
		}

		function highlightFeature(e) {
			var layer = e.target;

			layer.setStyle({
				weight: 5,
				color: '#666',
				dashArray: '',
				fillOpacity: 0.7
			});

			if (!L.Browser.ie && !L.Browser.opera) {
				layer.bringToFront();
			}

			info.update(layer.feature.properties);
		}

		var geojson;

		function resetHighlight(e) {
			geojson.resetStyle(e.target);
			info.update();
		}

		function zoomToFeature(e) {
			map.fitBounds(e.target.getBounds());
		}

		function onEachFeature(feature, layer) {
			layer.on({
				mouseover: highlightFeature,
				mouseout: resetHighlight
			});
		}

		geojson = L.geoJson(estados, {
			style: style,
			onEachFeature: onEachFeature
		}).addTo(map);



		var legend = L.control({position: 'bottomleft'});

		legend.onAdd = function (map) {

			var div = L.DomUtil.create('div', 'info legend'),
				grades = [0, 15000, 30000, 45000, 60000, 75000, 90000, 105000],
				labels = [],
				from, to;

			for (var i = 0; i < grades.length; i++) {
				from = grades[i];
				to = grades[i + 1];

				labels.push(
					'<i style="background:' + getColor(from + 1) + '"></i> ' +
					from + (to ? '&ndash;' + to : '+'));
			}

			div.innerHTML = labels.join('<br>');
			return div;
		};

		legend.addTo(map);

	</script>  
  </body>	
</html>
