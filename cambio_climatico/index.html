<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Cambio Climatico</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

	<!-- Font Awesome -->
	<link href="css/font-awesome.min.css" rel="stylesheet">

	<!-- Responsive Tabs Style -->
    <link type="text/css" rel="stylesheet" href="css/responsive-tabs.css" />
    <link type="text/css" rel="stylesheet" href="css/tabs_style.css" />
    <link href="css/c3.css" rel="stylesheet" type="text/css">    
	<link href="css/opiscatter.css" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="css/main_style.css" rel="stylesheet">

    <!-- Leaflet -->
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
    

    <style>
		#map {
			width: auto;
			height: 550px;
		}
		#map2 {
			width: auto;
			height: 550px;
		}

		.info {
			padding: 6px 8px;
			font: 10px/12px Arial, Helvetica, sans-serif;
			background: white;
			background: rgba(255,255,255,0.8);
			box-shadow: 0 0 15px rgba(0,0,0,0.2);
			border-radius: 5px;
			color: #777;
			text-align: center;
			width: auto;
		}
		.info h4 {
			margin: 0 0 5px;
			color: #777;
			text-align: center;
		}

		.legend {
			text-align: left;
			line-height: 18px;
			color: #555;
		}
		.legend i {
			width: 18px;
			height: 18px;
			float: left;
			margin-right: 8px;
			opacity: 0.7;
		}
	</style>
  </head>

  <body>

   	<!--div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav">
          <a class="blog-nav-item" href="#"><i class="fa fa-tasks"></i> datos.gob.mx</a>
          <a class="blog-nav-item" href="#">Datos</a>
          <a class="blog-nav-item" href="#">Herramientas</a>
          <a class="blog-nav-item" href="#">Impacto</a>
          <a class="blog-nav-item" href="#">Guía</a>
          <a class="blog-nav-item" href="#">Acerca</a>
          <a class="blog-nav-item" href="#"><i class="fa fa-github-square"></i></a>                    
        </nav>
      </div>
    </div-->

    <div class="container-clima">
		<div class="row">
			<div id="responsiveTabsContainer">
	
			    <ul>
			        <li class="title-tab"><p class="text-size-14"> Cambio Climático </p></li>
			        <li class="normal-tab" id="main-tab"><a href="#tab-2"><strong>¿Qué es? </strong></a></li>
			        <li class="normal-tab"><a href="#tab-3"><strong>¿Por qué pasa?</strong> </a></li>
			        <li class="normal-tab"><a href="#tab-4"><strong>¿Cómo me afecta?</strong> </a></li>
			        <li class="normal-tab"><a href="#tab-5"><strong> Acciones</strong> </a></li>                
			    </ul>
			
			    <div id="tab-2">
				    
				    <div class="row">
					    <div class="col-xs-8">
						    <p class="black-text">
							    Los Científicos definen el cambio climático como "...todo cambio que ocurre en la cima a través del tiempo resultado de la variabilidad neutral o de las actividades humanas." El calentamiento global por su parte, es la manifestación más evidente del cambio climático y se refiere al incremento promedio de las temperaturas terrestres y marinas globales.
						    </p>
						    <br>
						    <p class="text-center"><strong>Inventario Nacional de la emisión de gases de efecto invernadero</strong></p>
						    <!--img class="img-responsive" src="img/g1.png"/-->
							<div id="chart1"></div>						    
						</div>    
					    <div class="col-xs-4" id="green-boxes">
							
							<div id="item1" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="bottom" title="Title1">
								<div class="box-image">
									<div class="images-margin-side">
										<img id="item1-img" class="img-responsive" src="">
									</div>
								</div>
								<div class="box-text">
									<p class=" text-size-14"><span style="font-size:22px" id="item1-highlight"></span> <span id="item1-description"></span></p>
								</div>
							</div>								

							<div id="item2" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="top" title="Title2">
								<div class="box-image">
									<div class="images-margin-side">
										<img id="item2-img" class="img-responsive" src="">
									</div>
								</div>
								<div class="box-text">
									<p class=" text-size-14"><span style="font-size:22px" id="item2-highlight"></span> <span id="item2-description"></span></p>
								</div>
							</div>								

							<div id="item3" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="top" title="Title3">
								<div class="box-image">
									<div class="images-margin-side">
										<img id="item3-img" class="img-responsive" src="">
									</div>
								</div>
								<div class="box-text">
									<p class=" text-size-14"><span style="font-size:22px" id="item3-highlight"></span> <span id="item3-description"></span></p>
								</div>
							</div>																						
						</div>
				    </div>
				    <br>
				    <!-- Indicadores -->
				    <p style="font-size: 20px;">Indicadores</p>
				    <div class="row">
					    
						<!--div id="item0" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="bottom" data-html="true" data-title="<table><tr><td style='color:red;'>complex&nbsp;</td><td>HTML</td></tr></table>">
							<div class="box-image">
								<div class="images-margin-side">
								</div>
							</div>
							<div class="box-text">
							</div>
						</div-->													    
					    <style>
						    .indicators-table{
							    width: 720px;
						    }
						   	.indicator-box{
							    width: 16.66%;
							    border-style: solid; 
							    border-color: black;
							    border-width: 1px;							    
						    } 
						</style>    

						<table class="indicators-table center-block">
							<tr>
								<td id="indicator1"class="indicator-box custom-tooltip" style="background-color: #853B00" id="item0" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="top" data-html="true" data-title="<table><tr><td style='color:red;'>complex&nbsp;</td><td>HTML</td></tr></table>">
									<p class="text-center" style="color: white">Industria, Petróleo y Gas</p>
								</td>	
								<td id="indicator2" class="indicator-box custom-tooltip" style="background-color: #C75900" id="item0" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="bottom" data-html="true" data-title="<table><tr><td style='color:red;'>complex&nbsp;</td><td>HTML</td></tr></table>">
									<p class="text-center" style="color: white">Fuentes móviles</p>
								</td>	
								<td id="indicator3" class="indicator-box custom-tooltip" style="background-color: #F4B07F" id="item0" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="top" data-html="true" data-title="<table><tr><td style='color:red;'>complex&nbsp;</td><td>HTML</td></tr></table>">
									<p class="text-center" style="color: white">Generación Eléctrica</p>
								</td>	
								<td id="indicator4" class="indicator-box custom-tooltip" style="background-color: #F8CAAA" id="item0" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="bottom" data-html="true" data-title="<table><tr><td style='color:red;'>complex&nbsp;</td><td>HTML</td></tr></table>">
									<p class="text-center">Agropecuario y uso de suelo, cambio de uso de suelo y silvicultura</p>
								</td>
								<td id="indicator5" class="indicator-box custom-tooltip" style="background-color: #FCE4D4" id="item0" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="top" data-html="true" data-title="<table><tr><td style='color:red;'>complex&nbsp;</td><td>HTML</td></tr></table>">
									<p class="text-center">Residuos, residencial y comercial</p>
								</td>								
								<td id="indicator6" class="indicator-box custom-tooltip" style="background-color: black" id="item0" class="side-box custom-tooltip" data-toggle="tooltip" data-placement="bottom" data-html="true" data-title="<table><tr><td style='color:red;'>complex&nbsp;</td><td>HTML</td></tr></table>"> 
									<p class="text-center" style="color: white">Carbono Negro</p>
								</td>
							</tr>	
						</table>	
						
					</div>    
				    
					<div class="row">
					    <div class="data-table-container">
						    <h4 class="aqua-text"><strong>Datos</strong></h4>
						    <table class="bottom-table">
							    <tr>
								    <td style="width: 40%; padding-left:20px"><p class="text-size-12"><strong>Nombre</strong></p></td>
								    <td style="width: 15%"><p class="text-size-12"><strong>Dependencia</strong></p></td>
								    <td style="width: 15%"><p class="text-size-12"><strong>Fecha</strong></p></td>
								    <td style="width: 15%"><p class="text-size-12"><strong>Formato</strong></p></td>
								    <td style="width: 15%"><strong></strong></td>
							    </tr>
								<tr class="name-info">
								    <td style="padding-left:20px">
									    <p style="font-size: 10px; padding-right: 16px;"><strong>Rezago habitacional por condiciones de espacio, materiales e instalaciones de la vivienda</strong></p>
									</td>    
								    <td>
									    SEDATU
									</td>    
									<td>
									    N/A 
									</td>  
								    <td>
										<span class="format-text">CSV</span>
									</td>  
								    <td class="download-col">
									    <div class="center-block" style="border-radius:50%; background-color:#979494; width: 42px;">
											<h1 style="font-size: 20px; padding: 10px;" class="text-center"><i class="fa fa-download"></i><h1>
										</div>
									</td>
								</tr>
							    <tr>
								    <td style="width: 40%; padding-left:20px; padding-right: 5px;">
									    <br>
									    <p class="text-size-12"><strong>Descripción</strong></p>
									    <p style="font-size: 11px; padding-right: 24px; text-align: justify;">Una vivienda se encuentra en rezago habitacional cuando no cumple con las condiciones mínimas de espacio, materiales e instalaciones necesarias para garantizar el pleno desarrollo de sus habitantes y el numero de cuartos es mayor a 2.5. Una vivienda está en rezago habitacional por materiales cuando el piso es de tierra los muros son de material de desecho, la lámina de cartón, de lámina de asbesto o metálica, de carrizo, bambú o palma, de embarro o bajareque, o de madera o tejamanil. Una vivienda está en rezago habitacional por instalaciones de cocina cuando el principal combustible utilizado para cocinar es leña o carbón y no se cuenta con chimenea. Una vivienda está en rezago habitacional por instalaciones sanitarias cuando no cuenta con excusado, retrete, sanitario, letrina u hoyo negro, de uso excesivo (no se compare con otra vivienda) al que se le pueda echar agua mediante descarga directa o con cubetas</p>
									</td>
								    <td style="width: 15%">
									    <p class="text-size-12">
										    <strong>Desagregación</strong>
										</p>
										<p class="text-size-12">
											Nacional;Estatal
										</p>
									</td>
								    <td style="width: 15%">
									    <p class="text-size-12"><strong>Desagregación<br> Temporal</strong></p>
									    <p class="text-size-12">Anual</p>									    
								    </td>
								    <td style="width: 15%">
									    <p class="text-size-12"><strong>Años</strong></p>
									    <p class="text-size-12">2014.0</p>									    
									    <p class="aqua-text text-size-12">MÁS INFORMACIÓN</p>
									</td>
								    <td style="width: 15%"></td>
							    </tr>
						    </table>
					    </div>
				    </div>
				    				    
				</div>
				
							    
			    <div id="tab-3"> 
				    <p class="black-text">
					    El cambio climático que hoy enfrentamos está vinculado a la quema de combustibles fósiles, especialmente el carbón, gas y petróleo, y a la deforestación, es decir, a la pérdida de cobertura forestal. Ambos fenómenos tienen como consecuencia la excesiva emisión a la atmósfera de gases de efecto invernadero (GEI), mismos que están incrementando la temperatura del planeta
				    </p>
				    <p>
				    	Emisiones de carbono (Co2) por sector de la economía
					</p>    
					<div class="row">
						<div class="col-xs-12">
						    <!--img class="img-responsive" src="img/g2.png"/-->
							<div id="chart"></div>
						</div>	
					</div>	
					<p>Explora</p>
					<p>
						Selecciona un indicador: 
						<select id="opciones">
						  <option value="1">Opcion 1</option>
						  <option value="2">Opcion 2</option>
						  <option value="3">Opcion 3</option>						  						  
						</select>
					</p>					
					<!--div class="row">
						<div class="col-xs-12">
						    <img class="img-responsive" src="img/g3.png"/>							
						</div>	
					</div-->
					<div class="row">
						<div class="col-xs-12">
							<div id="map"></div>
						</div>
					</div>						
					<div class="row">
						<div class="col-xs-2" id="anio2010">
							<p class="text-center map-year"><strong>2010</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2011">
							<p class="text-center map-year"><strong>2011</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2012">
							<p class="text-center map-year"><strong>2012</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2013">
							<p class="text-center map-year"><strong>2013</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2014">
							<p class="text-center map-year"><strong>2014</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2015">
							<p class="text-center map-year aqua-text"><strong>2015</strong></p>
						</div>																									
					</div>
				    <!-- Data table-->
				    <div class="row">
					    <div class="data-table-container">
						    <h4 class="aqua-text"><strong>Datos</strong></h4>
						    <table class="bottom-table">
							    <tr>
								    <td style="width: 40%; padding-left:20px"><p class="text-size-12"><strong>Nombre</strong></p></td>
								    <td style="width: 15%"><p class="text-size-12"><strong>Dependencia</strong></p></td>
								    <td style="width: 15%"><p class="text-size-12"><strong>Fecha</strong></p></td>
								    <td style="width: 15%"><p class="text-size-12"><strong>Formato</strong></p></td>
								    <td style="width: 15%"><strong></strong></td>
							    </tr>
								<tr class="name-info">
								    <td style="padding-left:20px;">
									    <p style="font-size: 10px; padding-right: 16px;"><strong>Rezago habitacional por condiciones de espacio, materiales e instalaciones de la vivienda</strong></p>
									</td>    
								    <td>
									    SEDATU
									</td>    
									<td>
									    N/A 
									</td>  
								    <td>
										<span class="format-text">CSV</span>
									</td>  
								    <td class="download-col">
										<div class="center-block" style="border-radius:50%; background-color:#979494; width: 42px;">
											<h1 style="font-size: 20px; padding: 10px;" class="text-center"><i class="fa fa-download"></i><h1>
										</div>
									</td>
								</tr>
							    <tr>
								    <td style="width: 40%; padding-left:20px; padding-right: 5px;">
									    <br>
									    <p class="text-size-12"><strong>Descripción</strong></p>
									    <p style="font-size: 11px; padding-right: 24px; text-align: justify;">Una vivienda se encuentra en rezago habitacional cuando no cumple con las condiciones mínimas de espacio, materiales e instalaciones necesarias para garantizar el pleno desarrollo de sus habitantes y el numero de cuartos es mayor a 2.5. Una vivienda está en rezago habitacional por materiales cuando el piso es de tierra los muros son de material de desecho, la lámina de cartón, de lámina de asbesto o metálica, de carrizo, bambú o palma, de embarro o bajareque, o de madera o tejamanil. Una vivienda está en rezago habitacional por instalaciones de cocina cuando el principal combustible utilizado para cocinar es leña o carbón y no se cuenta con chimenea. Una vivienda está en rezago habitacional por instalaciones sanitarias cuando no cuenta con excusado, retrete, sanitario, letrina u hoyo negro, de uso excesivo (no se compare con otra vivienda) al que se le pueda echar agua mediante descarga directa o con cubetas</p>
									</td>
								    <td style="width: 15%">
									    <p class="text-size-12">
										    <strong>Desagregación</strong>
										</p>
										<p class="text-size-12">
											Nacional;Estatal
										</p>
									</td>
								    <td style="width: 15%">
									    <p class="text-size-12"><strong>Desagregación<br> Temporal</strong></p>
									    <p class="text-size-12">Anual</p>									    
								    </td>
								    <td style="width: 15%">
									    <p class="text-size-12"><strong>Años</strong></p>
									    <p class="text-size-12">2014.0</p>									    
									    <p class="aqua-text text-size-12">MÁS INFORMACIÓN</p>
									</td>
								    <td style="width: 15%"></td>
							    </tr>
						    </table>
					    </div>
				    </div>

					
				</div>
			    
			    <div id="tab-4">
				    <p class="black-text">
					El cambio climático nos afecta a todos ya que su impacto potencial es enorme. Algunas predicciones son: la falta de agua potable, cambios en las condiciones de producción de alimentos. Además, un aumento en los índices de moralidad debido a inundaciones, tormentas, sequías y olas de calor. El cambio climático no es únicamente un fenómeno ambiental, sino también de profundas consecuencias económicas y sociales. Los países más pobres que no están preparados para enfrentar cambios rápidos, serán los que sufrirán las peores consecuencias.
				    </p> 
					<div class="row">
						
						<div class="col-xs-4">
							<div id="" class="side-box"><div class="box-image"><div class="images-margin-side"><img class="img-responsive" src="img/huella.png"></div></div><div class="box-text"><p class=" text-size-14"><span style="font-size:22px">2</span>Nuevas especies en peligro de extinción</p></div></div>
						</div>
						<div class="col-xs-4">
							<div id="" class="side-box"><div class="box-image"><div class="images-margin-side"><img class="img-responsive" src="img/flame.png"></div></div><div class="box-text"><p class=" text-size-14"><span style="font-size:22px">500</span> más incendios forestales al año</p></div></div>							
						</div>
						<div class="col-xs-4">
							<div id="" class="side-box"><div class="box-image"><div class="images-margin-side"><img class="img-responsive" src="img/flame.png"></div></div><div class="box-text"><p class=" text-size-14"><span style="font-size:22px"></span> Incremento de sequías en zonas rurales</p></div></div>							
						</div>													


					</div>
					<p style="font-size: 15px;">
						Explora
					</p>
					<p class="black-text">
						Los impactos ambientales se definen como la “modificación del ambiente ocasionada por la acción del hombre o de la naturaleza”. A continuación se muestran diversos impactos ambientales comunmente relacionados con el cambio climático. Aunque no necesariamente dependen de las actividades mostradas en la sección anterior.
					</p>
					<br>
					<div class="select-container">
						<p class="text-center"style="font-size: 15px; float:left;">
							Selecciona un indicador 
						</p>		
						<select class="indicator_select">
							<option value="select">opción 1</option>
							<option value="azulejos">opción 2</option>
							<option value="azulejos">opción 3</option>
						</select>
					</div>	
					<br>
					<div class="row">
						<div class="col-xs-12">
							<div id="map2"></div>
						</div>
					</div>	
					<!--img class="map" src="img/map.png"-->
					<div class="row">
						<div class="col-xs-2" id="anio2010">
							<p class="text-center map-year"><strong>2010</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2011">
							<p class="text-center map-year"><strong>2011</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2012">
							<p class="text-center map-year"><strong>2012</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2013">
							<p class="text-center map-year"><strong>2013</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2014">
							<p class="text-center map-year"><strong>2014</strong></p>
						</div>	
						<div class="col-xs-2" id="anio2015">
							<p class="text-center map-year aqua-text"><strong>2015</strong></p>
						</div>																									
					</div>
					
					<div class="row">
					    <div class="data-table-container">
						    <h4 class="aqua-text"><strong>Datos</strong></h4>
						    <table class="bottom-table">
							    <tr>
								    <td style="width: 40%; padding-left:20px"><p class="text-size-12"><strong>Nombre</strong></p></td>
								    <td style="width: 15%"><p class="text-size-12"><strong>Dependencia</strong></p></td>
								    <td style="width: 15%"><p class="text-size-12"><strong>Fecha</strong></p></td>
								    <td style="width: 15%"><p class="text-size-12"><strong>Formato</strong></p></td>
								    <td style="width: 15%"><strong></strong></td>
							    </tr>
								<tr class="name-info">
								    <td style="padding-left:20px;">
									    <p style="font-size: 10px; padding-right: 16px;"><strong>Rezago habitacional por condiciones de espacio, materiales e instalaciones de la vivienda</strong></p>
									</td>    
								    <td>
									    SEDATU
									</td>    
									<td>
									    N/A 
									</td>  
								    <td>
										<span class="format-text">CSV</span>
									</td>  
								    <td class="download-col">
										<div class="center-block" style="border-radius:50%; background-color:#979494; width: 42px;">
											<h1 style="font-size: 20px; padding: 10px;" class="text-center"><i class="fa fa-download"></i><h1>
										</div>
									</td>
								</tr>
							    <tr>
								    <td style="width: 40%; padding-left:20px; padding-right: 5px;">
									    <br>
									    <p class="text-size-12"><strong>Descripción</strong></p>
									    <p style="font-size: 11px; padding-right: 24px; text-align: justify;">Una vivienda se encuentra en rezago habitacional cuando no cumple con las condiciones mínimas de espacio, materiales e instalaciones necesarias para garantizar el pleno desarrollo de sus habitantes y el numero de cuartos es mayor a 2.5. Una vivienda está en rezago habitacional por materiales cuando el piso es de tierra los muros son de material de desecho, la lámina de cartón, de lámina de asbesto o metálica, de carrizo, bambú o palma, de embarro o bajareque, o de madera o tejamanil. Una vivienda está en rezago habitacional por instalaciones de cocina cuando el principal combustible utilizado para cocinar es leña o carbón y no se cuenta con chimenea. Una vivienda está en rezago habitacional por instalaciones sanitarias cuando no cuenta con excusado, retrete, sanitario, letrina u hoyo negro, de uso excesivo (no se compare con otra vivienda) al que se le pueda echar agua mediante descarga directa o con cubetas</p>
									</td>
								    <td style="width: 15%">
									    <p class="text-size-12">
										    <strong>Desagregación</strong>
										</p>
										<p class="text-size-12">
											Nacional;Estatal
										</p>
									</td>
								    <td style="width: 15%">
									    <p class="text-size-12"><strong>Desagregación<br> Temporal</strong></p>
									    <p class="text-size-12">Anual</p>									    
								    </td>
								    <td style="width: 15%">
									    <p class="text-size-12"><strong>Años</strong></p>
									    <p class="text-size-12">2014.0</p>									    
									    <p class="aqua-text text-size-12">MÁS INFORMACIÓN</p>
									</td>
								    <td style="width: 15%"></td>
							    </tr>
						    </table>
					    </div>
				    </div>
			
				</div>
			    <div id="tab-5" style="padding:0px;"> 			    
					<div class="biggreen-container">
						<p class="white-text">La acción global frente al cambio climático es ineludible e impostergable. De acuerdo con la comunidad científica internacional, es necesario que todos los países reduzcan, de manera conjunta y decidida, las emisiones de gases y compuestos de efecto invernadero para evitar que los efectos se agraven. Para México, este desafío conlleva problemas sociales, económicos y ambientales que ya afectan a su población, infraestructura, sistemas productivos y ecosistemas.
						<br><br>
						A continuación se muestra el plan de crecimiento sostenible de México para los próximos años y otros datos para entender como está reaccionando el país para adaptar y mitigar el Cambio Climático.</p>		
					</div>	
					<div>
						<p class="black-text" style="padding: 20px;">A partir de la publicación de la Ley General de Cambio Climático en el 2012, la Administración del Presidente Peña Nieto ha colocado las acciones de mitigación y adaptación al Cambio Climático en el centro de la agenda nacional desarrollando una Estrategia Nacional de Cambio Climático y recientemente la entrega de los compromisos 2020 - 2030.</p>
					</div>
					<img style="width: 100%;" src="img/timeline.png">
					<br>
					<p class="black-text" style="padding: 20px;">Como componente central de esta Estrategia, se está implementando el Programa Especial de Cambio Climático que cuenta con 5 objetivos, 32 estrategias y 230 lineas de acción y esta siendo implementada por 32 dependencias de la Administración Pública Federal.</p>
					<!--img style=" display: block; margin-left: auto; margin-right: auto;" src="img/grafica_lineas.png"-->
					<div id="dendogram">
					</div>						
					<br>
					<p class="black-text" style="padding: 20px;">Durante el ejercicio fiscal, el Presupuesto de Egresos de la Federación contemplo más de 40 mil millones de pesos en recursos para la adaptación y mitigación de los efectos del cambio climático. Estos recursos fueron asignados a 13 Ramos dentro del PEF 2015.</p>
					<p class="number-quantity"><strong>$40,663,437,822 mdp</strong></p>	
					<br>
					<p class="indications">Da click en cada sector para ver la distribución de los recursos y da click en la barra naranja para regresar.</p>
					<img style="width: 100%; padding: 25px;"src="img/grafica_gris.png">
					<div class="row">
						<div style="padding:20px;">
						    <div class="data-table-container">
							    <h4 class="aqua-text"><strong>Datos</strong></h4>
							    <table class="bottom-table">
								    <tr>
									    <td style="width: 40%; padding-left:20px"><p class="text-size-12"><strong>Nombre</strong></p></td>
									    <td style="width: 15%"><p class="text-size-12"><strong>Dependencia</strong></p></td>
									    <td style="width: 15%"><p class="text-size-12"><strong>Fecha</strong></p></td>
									    <td style="width: 15%"><p class="text-size-12"><strong>Formato</strong></p></td>
									    <td style="width: 15%"><strong></strong></td>
								    </tr>
									<tr class="name-info">
									    <td style="padding-left:20px;">
										    <p style="font-size: 10px; padding-right: 16px;"><strong>Rezago habitacional por condiciones de espacio, materiales e instalaciones de la vivienda</strong></p>
										</td>    
									    <td>
										    SEDATU
										</td>    
										<td>
										    N/A 
										</td>  
									    <td>
											<span class="format-text">CSV</span>
										</td>  
									    <td class="download-col">
											<div class="center-block" style="border-radius:50%; background-color:#979494; width: 42px;">
												<h1 style="font-size: 20px; padding: 10px;" class="text-center"><i class="fa fa-download"></i><h1>
											</div>
										</td>
									</tr>
								    <tr>
									    <td style="width: 40%; padding-left:20px; padding-right: 5px;">
										    <br>
										    <p class="text-size-12"><strong>Descripción</strong></p>
										    <p style="font-size: 11px; padding-right: 24px; text-align: justify;">Una vivienda se encuentra en rezago habitacional cuando no cumple con las condiciones mínimas de espacio, materiales e instalaciones necesarias para garantizar el pleno desarrollo de sus habitantes y el numero de cuartos es mayor a 2.5. Una vivienda está en rezago habitacional por materiales cuando el piso es de tierra los muros son de material de desecho, la lámina de cartón, de lámina de asbesto o metálica, de carrizo, bambú o palma, de embarro o bajareque, o de madera o tejamanil. Una vivienda está en rezago habitacional por instalaciones de cocina cuando el principal combustible utilizado para cocinar es leña o carbón y no se cuenta con chimenea. Una vivienda está en rezago habitacional por instalaciones sanitarias cuando no cuenta con excusado, retrete, sanitario, letrina u hoyo negro, de uso excesivo (no se compare con otra vivienda) al que se le pueda echar agua mediante descarga directa o con cubetas</p>
										</td>
									    <td style="width: 15%">
										    <p class="text-size-12">
											    <strong>Desagregación</strong>
											</p>
											<p class="text-size-12">
												Nacional;Estatal
											</p>
										</td>
									    <td style="width: 15%">
										    <p class="text-size-12"><strong>Desagregación<br> Temporal</strong></p>
										    <p class="text-size-12">Anual</p>									    
									    </td>
									    <td style="width: 15%">
										    <p class="text-size-12"><strong>Años</strong></p>
										    <p class="text-size-12">2014.0</p>									    
										    <p class="aqua-text text-size-12">MÁS INFORMACIÓN</p>
										</td>
									    <td style="width: 15%"></td>
								    </tr>
							    </table>
						    </div>
						</div>    
				    </div>
			
				</div>    


			</div>
		</div>	
    </div><!-- /.container -->

	<!-- Dendogram Style -->
	<style>
		.node {
		  cursor: pointer;
		}
		
		.node circle {
		  fill: #fff;
		  stroke: steelblue;
		  stroke-width: 1.5px;
		}
		
		.node text {
		  font: 10px sans-serif;
		}
		
		.link {
		  fill: none;
		  stroke: #ccc;
		  stroke-width: 1.5px;
		}
		
		.hover {   
		  position: absolute;           
		  text-align: center;           
		  width: 60px;                  
		  height: 28px;                 
		  padding: 2px;             
		  font: 5px sans-serif;        
		  background: lightsteelblue;   
		  border: 0px;      
		  border-radius: 8px;           
		  pointer-events: none;         
		}
	</style>	


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!--script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script-->
    
    <script src="js/jquery-1.11.0.min.js"></script>    
    <script src="js/bootstrap.js"></script>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>    
    <script src="js/c3.js"></script>
	<script type="text/javascript" src="js/scatter001.js"></script>						    							
    <script src="js/csvjson.js"></script>    

	<!-- Responsive Tabs JS -->
	<script src="js/jquery.responsiveTabs.js" type="text/javascript"></script>

	<!-- Leaflet -->
	<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
	<!--script src="js/states_temp_2by2.js" type="text/javascript"></script-->
	
	<script type="text/javascript">

		var estados;
		var anio = 2015;
		var op = 1;
		var topEs;
		var filas = "";
		var ind; 



		var estados2;
		var anio2 = 2015;
		var op2 = 1;
		var topEs2;
		var filas2 = "";
		var ind2; 





		$('#anio2010').click(function() {
			anio = 2010;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2011').click(function() {
			anio = 2011;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2012').click(function() {
			anio = 2012;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2013').click(function() {
			anio = 2013;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2014').click(function() {
			anio = 2014;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#anio2015').click(function() {
			anio = 2015;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}
		});

		$('#opciones').change(function() {

			if($(this).val() == 1) {
				crearFilasIndicador1();
				pintarMapa();
			} else if($(this).val() == 2) {
				crearFilasIndicador2();
				pintarMapa2();
			} else if($(this).val() == 3) {
				crearFilasIndicador3();
				pintarMapa3();
			}

		});

		function crearFilasIndicador1() {

			topEs.features.sort(function(a,b) {
					return b.properties.ganado[0].valor - a.properties.ganado[0].valor;
				});

				filas = '<table class="table table-striped table-condensed table-top"><tr><td><b>Estado</b></td><td><b>CO2</b></td><td><b>PIB</b></td></tr>'
				+ '<tr><td>' + topEs.features[0].properties.name + '</td><td>' + topEs.features[0].properties.ganado[0].valor + '</td><td>250</td></tr>' 
				+ '<tr><td>' + topEs.features[1].properties.name + '</td><td>' + topEs.features[1].properties.ganado[0].valor + '</td><td>130</td></tr>' 
				+ '<tr><td>' + topEs.features[2].properties.name + '</td><td>' + topEs.features[2].properties.ganado[0].valor + '</td><td>130</td></tr>' 
				+ '<tr><td>' + topEs.features[3].properties.name + '</td><td>' + topEs.features[3].properties.ganado[0].valor + '</td><td>130</td></tr>' 
				+ '<tr><td>' + topEs.features[4].properties.name + '</td><td>' + topEs.features[4].properties.ganado[0].valor + '</td><td>130</td></tr>'
				+ '</table>';

		}

		function crearFilasIndicador2() {

			topEs.features.forEach(function(el) {
				el.properties.incendios.forEach(function(ele, index) {
					//console.log(ele.tiempo);
					if ( ele.tiempo == anio ) {
						ind = index;
						console.log(ind);
					}
				});
			});

			topEs.features.sort(function(a,b) {
				return b.properties.incendios[ind].valor - a.properties.incendios[ind].valor;
			});

			filas = '<table class="table table-striped table-condensed table-top"><tr><td><b>Estado</b></td><td><b>CO2</b></td><td><b>PIB</b></td></tr>'
			+ '<tr><td>' + topEs.features[0].properties.name + '</td><td>' + topEs.features[0].properties.incendios[ind].valor + '</td><td>250</td></tr>' 
			+ '<tr><td>' + topEs.features[1].properties.name + '</td><td>' + topEs.features[1].properties.incendios[ind].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[2].properties.name + '</td><td>' + topEs.features[2].properties.incendios[ind].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[3].properties.name + '</td><td>' + topEs.features[3].properties.incendios[ind].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[4].properties.name + '</td><td>' + topEs.features[4].properties.incendios[ind].valor + '</td><td>130</td></tr>'
			+ '</table>';

		}

		function crearFilasIndicador3() {

			

			topEs.features.sort(function(a,b) {
				return b.properties.sembrada[0].valor - a.properties.sembrada[0].valor;
			});

			filas = '<table class="table table-striped table-condensed table-top"><tr><td><b>Estado</b></td><td><b>CO2</b></td><td><b>PIB</b></td></tr>'
			+ '<tr><td>' + topEs.features[0].properties.name + '</td><td>' + topEs.features[0].properties.sembrada[0].valor + '</td><td>250</td></tr>' 
			+ '<tr><td>' + topEs.features[1].properties.name + '</td><td>' + topEs.features[1].properties.sembrada[0].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[2].properties.name + '</td><td>' + topEs.features[2].properties.sembrada[0].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[3].properties.name + '</td><td>' + topEs.features[3].properties.sembrada[0].valor + '</td><td>130</td></tr>' 
			+ '<tr><td>' + topEs.features[4].properties.name + '</td><td>' + topEs.features[4].properties.sembrada[0].valor + '</td><td>130</td></tr>' 
			+ '</table>';

		}



		function pintarMapa() {
			function style1(feature) {
				return {
					weight: 2,
					opacity: 1,
					color: 'white',
					dashArray: '3',
					fillOpacity: 0.7,
					fillColor: getColor(feature.properties.ganado[0].valor)
				};
			}
			
			info.removeFrom(map);

			info.onAdd = function (map) {
				this._div = L.DomUtil.create('div', 'info');
				this.update();
				return this._div;
			}

			info.update = function (props) {
				this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
					+ 'Población: ' + props.pob_2014 + '<br>' 
					+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
					+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
					+ '<b>Top estados generadores</b><br>'
					+ filas : '');
			};

			info.addTo(map);

			map.removeLayer(geojson);

			geojson = L.geoJson(estados, {
				style: style1,
				onEachFeature: onEachFeature
			}).addTo(map);
		}


		function pintarMapa2() {
			function style2(feature) {
					return {
						weight: 2,
						opacity: 1,
						color: 'white',
						dashArray: '3',
						fillOpacity: 0.7,
						fillColor: getColor(feature.properties.incendios[ind].valor)
					};
				}

				info.removeFrom(map);

				info.onAdd = function (map) {
					this._div = L.DomUtil.create('div', 'info');
					this.update();
					return this._div;
				}

				info.update = function (props) {
					this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
						+ 'Población: ' + props.pob_2014 + '<br>' 
						+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
						+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
						+ '<b>Top estados generadores</b><br>' 
						+ filas : '');
				};

				info.addTo(map);

				map.removeLayer(geojson);

				geojson = L.geoJson(estados, {
					style: style2,
					onEachFeature: onEachFeature
				}).addTo(map);
		}

		function pintarMapa3() {
			function style3(feature) {
					return {
						weight: 2,
						opacity: 1,
						color: 'white',
						dashArray: '3',
						fillOpacity: 0.7,
						fillColor: getColor(feature.properties.sembrada[0].valor)
					};
				}

				info.removeFrom(map);

				info.onAdd = function (map) {
					this._div = L.DomUtil.create('div', 'info');
					this.update();
					return this._div;
				}

				info.update = function (props) {
					this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
						+ 'Población: ' + props.pob_2014 + '<br>' 
						+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
						+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
						+ '<b>Top estados generadores</b><br>' 
						+ filas : '');
				};

				info.addTo(map);

				map.removeLayer(geojson);

				geojson = L.geoJson(estados, {
					style: style3,
					onEachFeature: onEachFeature
				}).addTo(map);
		}



		$.ajax({
			//url: "data/states_temp.json",
			//url: "data/states_temp_2by2.json",
			//url: "data/states_temp2byall.json",
			url: "data/screen2all_states.json",
			async: false,
			success: function(data){
				console.log(data);
				estados = data;
				topEs = data;
				estados2 = data;
				topEs2 = data;
			},
			error: function(err) {
				console.log(err.responseText);
				estados = err.responseText;
				topEs = err.responseText;
				estados2 = err.responseText;
				topEs2 = err.responseText;
			}
		});

		var map = L.map('map', {zoomControl: true}).setView([25.511791, -101.080072], 5);
		

		// Disable drag and zoom handlers.
		//map.dragging.disable();
		map.touchZoom.disable();
		map.doubleClickZoom.disable();
		map.scrollWheelZoom.disable();

		// Disable tap handler, if present.
		if (map.tap) map.tap.disable();

		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6IjZjNmRjNzk3ZmE2MTcwOTEwMGY0MzU3YjUzOWFmNWZhIn0.Y8bhBaUMqFiPrDRW9hieoQ', {
			maxZoom: 7,
			minZoom: 4,
			id: 'mapbox.light'
		}).addTo(map);

		var info = L.control();

		info.onAdd = function (map) {
			this._div = L.DomUtil.create('div', 'info');
			this.update();
			return this._div;
		};

		info.update = function (props) {
			crearFilasIndicador1();
			this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
				+ 'Población: ' + props.pob_2014 + '<br>' 
				+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
				+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
				+ '<b>Top estados generadores</b><br>' 
				+ filas : '');
		};

		info.addTo(map);

		function getColor(d) {
			return d > 1050000 ? '#009975' :
			       d > 90000 ? '#00b388' :
			       d > 75000 ? '#00cc9c' :
			       d > 60000 ? '#00ffc3' :
			       d > 45000 ? '#33ffcf' :
			       d > 30000 ? '#66ffdb' :
			       d > 15000 ? '#99ffe7' :
			                     '#ccfff3';
		}

		function style(feature) {
			return {
				weight: 2,
				opacity: 1,
				color: 'white',
				dashArray: '3',
				fillOpacity: 0.7,
				fillColor: getColor(feature.properties.ganado[0].valor)
			};
		}

		function highlightFeature(e) {
			var layer = e.target;

			layer.setStyle({
				weight: 5,
				color: '#666',
				dashArray: '',
				fillOpacity: 0.7
			});

			if (!L.Browser.ie && !L.Browser.opera) {
				layer.bringToFront();
			}

			info.update(layer.feature.properties);
		}

		var geojson;

		function resetHighlight(e) {
			geojson.resetStyle(e.target);
			info.update();
		}

		function zoomToFeature(e) {
			map.fitBounds(e.target.getBounds());
		}

		function onEachFeature(feature, layer) {
			layer.on({
				mouseover: highlightFeature,
				mouseout: resetHighlight
			});
		}

		geojson = L.geoJson(estados, {
			style: style,
			onEachFeature: onEachFeature
		}).addTo(map);



		var legend = L.control({position: 'bottomleft'});

		legend.onAdd = function (map) {

			var div = L.DomUtil.create('div', 'info legend'),
				grades = [0, 15000, 30000, 45000, 60000, 75000, 90000, 105000],
				labels = [],
				from, to;

			for (var i = 0; i < grades.length; i++) {
				from = grades[i];
				to = grades[i + 1];

				labels.push(
					'<i style="background:' + getColor(from + 1) + '"></i> ' +
					from + (to ? '&ndash;' + to : '+'));
			}

			div.innerHTML = labels.join('<br>');
			return div;
		};

		legend.addTo(map);













		
		/*
		$('#anio2010').click(function() {
			anio2 = 2010;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1_2();
				pintarMapa_2();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2_2();
				pintarMapa2_2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3_2();
				pintarMapa3_2();
			}
		});

		$('#anio2011').click(function() {
			anio2 = 2011;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1_2();
				pintarMapa_2();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2_2();
				pintarMapa2_2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3_2();
				pintarMapa3_2();
			}
		});

		$('#anio2012').click(function() {
			anio2 = 2012;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1_2();
				pintarMapa_2();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2_2();
				pintarMapa2_2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3_2();
				pintarMapa3_2();
			}
		});

		$('#anio2013').click(function() {
			anio2 = 2013;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1_2();
				pintarMapa_2();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2_2();
				pintarMapa2_2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3_2();
				pintarMapa3_2();
			}
		});

		$('#anio2014').click(function() {
			anio2 = 2014;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1_2();
				pintarMapa_2();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2_2();
				pintarMapa2_2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3_2();
				pintarMapa3_2();
			}
		});

		$('#anio2015').click(function() {
			anio2 = 2015;
			if($('#opciones').val() == 1) {
				crearFilasIndicador1_2();
				pintarMapa_2();
			} else if($('#opciones').val() == 2) {
				crearFilasIndicador2_2();
				pintarMapa2_2();
			} else if($('#opciones').val() == 3) {
				crearFilasIndicador3_2();
				pintarMapa3_2();
			}
		});

		$('#opciones').change(function() {

			if($(this).val() == 1) {
				crearFilasIndicador1_2();
				pintarMapa_2();
			} else if($(this).val() == 2) {
				crearFilasIndicador2_2();
				pintarMapa2_2();
			} else if($(this).val() == 3) {
				crearFilasIndicador3_2();
				pintarMapa3_2();
			}

		});

		function crearFilasIndicador1_2() {

			topEs2.features.sort(function(a,b) {
					return b.properties.ganado[0].valor - a.properties.ganado[0].valor;
				});

				filas2 = '<table class="table table-striped table-condensed table-top"><tr><td><b>Estado</b></td><td><b>CO2</b></td><td><b>PIB</b></td></tr>'
				+ '<tr><td>' + topEs2.features[0].properties.name + '</td><td>' + topEs2.features[0].properties.ganado[0].valor + '</td><td>250</td></tr>' 
				+ '<tr><td>' + topEs2.features[1].properties.name + '</td><td>' + topEs2.features[1].properties.ganado[0].valor + '</td><td>130</td></tr>' 
				//+ '<tr><td>' + topEs2.features[2].properties.name + '</td><td>' + topEs2.features[2].properties.ganado[0].valor + '</td><td>130</td></tr>' 
				//+ '<tr><td>' + topEs2.features[3].properties.name + '</td><td>' + topEs2.features[3].properties.ganado[0].valor + '</td><td>130</td></tr>' 
				//+ '<tr><td>' + topEs2.features[4].properties.name + '</td><td>' + topEs2.features[4].properties.ganado[0].valor + '</td><td>130</td></tr>'
				+ '</table>';

		}

		function crearFilasIndicador2_2() {

			topEs2.features.forEach(function(el) {
				el.properties.incendios.forEach(function(ele, index) {
					//console.log(ele.tiempo);
					if ( ele.tiempo == anio ) {
						ind2 = index;
						console.log(ind2);
					}
				});
			});

			topEs2.features.sort(function(a,b) {
				return b.properties.incendios[ind2].valor - a.properties.incendios[ind2].valor;
			});

			filas2 = '<table class="table table-striped table-condensed table-top"><tr><td><b>Estado</b></td><td><b>CO2</b></td><td><b>PIB</b></td></tr>'
			+ '<tr><td>' + topEs2.features[0].properties.name + '</td><td>' + topEs2.features[0].properties.incendios[ind2].valor + '</td><td>250</td></tr>' 
			+ '<tr><td>' + topEs2.features[1].properties.name + '</td><td>' + topEs2.features[1].properties.incendios[ind2].valor + '</td><td>130</td></tr>' 
			//+ '<tr><td>' + topEs2.features[2].properties.name + '</td><td>' + topEs2.features[2].properties.incendios[ind2].valor + '</td><td>130</td></tr>' 
			//+ '<tr><td>' + topEs2.features[3].properties.name + '</td><td>' + topEs2.features[3].properties.incendios[ind2].valor + '</td><td>130</td></tr>' 
			//+ '<tr><td>' + topEs2.features[4].properties.name + '</td><td>' + topEs2.features[4].properties.incendios[ind2].valor + '</td><td>130</td></tr>'
			+ '</table>';

		}

		function crearFilasIndicador3_2() {

			

			topEs2.features.sort(function(a,b) {
				return b.properties.sembrada[0].valor - a.properties.sembrada[0].valor;
			});

			filas2 = '<table class="table table-striped table-condensed table-top"><tr><td><b>Estado</b></td><td><b>CO2</b></td><td><b>PIB</b></td></tr>'
			+ '<tr><td>' + topEs2.features[0].properties.name + '</td><td>' + topEs2.features[0].properties.sembrada[0].valor + '</td><td>250</td></tr>' 
			+ '<tr><td>' + topEs2.features[1].properties.name + '</td><td>' + topEs2.features[1].properties.sembrada[0].valor + '</td><td>130</td></tr>' 
			//+ '<tr><td>' + topEs2.features[2].properties.name + '</td><td>' + topEs2.features[2].properties.indicador1[anio].valor + '</td><td>130</td></tr>' 
			//+ '<tr><td>' + topEs2.features[3].properties.name + '</td><td>' + topEs2.features[3].properties.indicador1[anio].valor + '</td><td>130</td></tr>' 
			//+ '<tr><td>' + topEs2.features[4].properties.name + '</td><td>' + topEs2.features[4].properties.indicador1[anio].valor + '</td><td>130</td></tr>' 
			+ '</table>';

		}



		function pintarMapa_2() {
			function style1(feature) {
				return {
					weight: 2,
					opacity: 1,
					color: 'white',
					dashArray: '3',
					fillOpacity: 0.7,
					fillColor: getColor(feature.properties.ganado[0].valor)
				};
			}
			
			info2.removeFrom(map2);

			info2.onAdd = function (map2) {
				this._div = L.DomUtil.create('div', 'info');
				this.update();
				return this._div;
			}

			info2.update = function (props) {
				this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
					+ 'Población: ' + props.pob_2014 + '<br>' 
					+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
					+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
					+ '<b>Top estados generadores</b><br>'
					+ filas2 : '');
			};

			info2.addTo(map2);

			map2.removeLayer(geojson);

			geojson = L.geoJson(estados, {
				style: style1,
				onEachFeature: onEachFeature
			}).addTo(map2);
		}


		function pintarMapa2_2() {
			function style2(feature) {
					return {
						weight: 2,
						opacity: 1,
						color: 'white',
						dashArray: '3',
						fillOpacity: 0.7,
						fillColor: getColor(feature.properties.incendios[ind].valor)
					};
				}

				info2.removeFrom(map2);

				info2.onAdd = function (map2) {
					this._div = L.DomUtil.create('div', 'info');
					this.update();
					return this._div;
				}

				info2.update = function (props) {
					this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
						+ 'Población: ' + props.pob_2014 + '<br>' 
						+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
						+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
						+ '<b>Top estados generadores</b><br>' 
						+ filas2 : '');
				};

				info2.addTo(map2);

				map2.removeLayer(geojson);

				geojson = L.geoJson(estados, {
					style: style2,
					onEachFeature: onEachFeature
				}).addTo(map2);
		}

		function pintarMapa3_2() {
			function style3(feature) {
					return {
						weight: 2,
						opacity: 1,
						color: 'white',
						dashArray: '3',
						fillOpacity: 0.7,
						fillColor: getColor(feature.properties.sembrada[0].valor)
					};
				}

				info2.removeFrom(map2);

				info2.onAdd = function (map2) {
					this._div = L.DomUtil.create('div', 'info');
					this.update();
					return this._div;
				}

				info2.update = function (props) {
					this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
						+ 'Población: ' + props.pob_2014 + '<br>' 
						+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
						+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
						+ '<b>Top estados generadores</b><br>' 
						+ filas2 : '');
				};

				info2.addTo(map2);

				map2.removeLayer(geojson);

				geojson = L.geoJson(estados, {
					style: style3,
					onEachFeature: onEachFeature
				}).addTo(map2);
		}

		var map2 = L.map('map2', {zoomControl: true}).setView([25.511791, -101.080072], 5);
		

		// Disable drag and zoom handlers.
		//map.dragging.disable();
		map2.touchZoom.disable();
		map2.doubleClickZoom.disable();
		map2.scrollWheelZoom.disable();

		// Disable tap handler, if present.
		if (map2.tap) map2.tap.disable();

		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6IjZjNmRjNzk3ZmE2MTcwOTEwMGY0MzU3YjUzOWFmNWZhIn0.Y8bhBaUMqFiPrDRW9hieoQ', {
			maxZoom: 7,
			minZoom: 4,
			id: 'mapbox.light'
		}).addTo(map2);

		var info2 = L.control();

		info2.onAdd = function (map2) {
			this._div = L.DomUtil.create('div', 'info');
			this.update();
			return this._div;
		};

		info2.update = function (props) {
			crearFilasIndicador1_2();
			this._div.innerHTML = (props ? '<h4>' + props.name + '</h4> <br>' 
				+ 'Población: ' + props.pob_2014 + '<br>' 
				+ 'PIB Anual: ' + props.valoragregado_2014 + '<br>'
				+ 'Territorio: ' + props.superficie_total + '<br><br><br>'
				+ '<b>Top estados generadores</b><br>' 
				+ filas2 : '');
		};

		info2.addTo(map2);

		function getColor2(d) {
			return d > 4000000 ? '#009975' :
			       d > 3500000 ? '#00b388' :
			       d > 3000000 ? '#00cc9c' :
			       d > 2500000 ? '#00ffc3' :
			       d > 2000000 ? '#33ffcf' :
			       d > 1500000 ? '#66ffdb' :
			       d > 1000000 ? '#99ffe7' :
			                     '#ccfff3';
		}

		function style_2(feature) {
			return {
				weight: 2,
				opacity: 1,
				color: 'white',
				dashArray: '3',
				fillOpacity: 0.7,
				fillColor: getColor2(feature.properties.ganado[0].valor)
			};
		}

		function highlightFeature_2(e) {
			var layer = e.target;

			layer.setStyle({
				weight: 5,
				color: '#666',
				dashArray: '',
				fillOpacity: 0.7
			});

			if (!L.Browser.ie && !L.Browser.opera) {
				layer.bringToFront();
			}

			info2.update(layer.feature.properties);
		}

		var geojson2;

		function resetHighlight_2(e) {
			geojson2.resetStyle(e.target);
			info2.update();
		}

		function zoomToFeature_2(e) {
			map2.fitBounds(e.target.getBounds());
		}

		function onEachFeature_2(feature, layer) {
			layer.on({
				mouseover: highlightFeature_2,
				mouseout: resetHighlight_2
			});
		}

		geojson2 = L.geoJson(estados2, {
			style: style_2,
			onEachFeature: onEachFeature_2
		}).addTo(map2);



		var legend2 = L.control({position: 'bottomleft'});

		legend2.onAdd = function (map2) {

			var div = L.DomUtil.create('div', 'info legend'),
				grades = [0, 1000000, 1500000, 2000000, 2500000, 3500000, 4000000, 4500000],
				labels = [],
				from, to;

			for (var i = 0; i < grades.length; i++) {
				from = grades[i];
				to = grades[i + 1];

				labels.push(
					'<i style="background:' + getColor2(from + 1) + '"></i> ' +
					from + (to ? '&ndash;' + to : '+'));
			}

			div.innerHTML = labels.join('<br>');
			return div;
		};

		legend2.addTo(map2);
		*/


























		$('#responsiveTabsContainer').responsiveTabs({
		    startCollapsed: 'accordion',
		    active: 1
		});
		$("#main-tab").click();
		
		//$.ajax("http://trebolbit.mx/cambio_climatico/data/page1Structure.json", {
		$.ajax("http://trebolbit.mx/cambio_climatico/data/JSON3.json", {			
		    success: function(data){

			    var item1 = data.item1;
			    var item2 = data.item2;
			    var item3 = data.item3;			    			    
					
				$("#item1-img").attr("src", item1.imageUrl);
				$("#item1-highlight").text(item1.highlight);
				$("#item1-description").text(item1.description);
				$("#item1").attr('title', item1.tooltipDescription).tooltip('fixTitle');
				
				$("#item2-img").attr("src", item2.imageUrl);
				$("#item2-highlight").text(item2.highlight);
				$("#item2-description").text(item2.description);
				$("#item2").attr('title', item2.tooltipDescription).tooltip('fixTitle');				
				
				$("#item3-img").attr("src", item3.imageUrl);
				$("#item3-highlight").text(item3.highlight);
				$("#item3-description").text(item3.description);
				$("#item3").attr('title', item3.tooltipDescription).tooltip('fixTitle');				

				function setIndicator1Values(){

					//Indicator 1-item1
					var total_industria = item1.properties.industria.sector_values.length;
					var indicator1_rows = "";
					
					for(i=0; i<total_industria; i++){
						indicator1_rows = indicator1_rows + "<tr><td style='width:50%'><p class='text-center'>"+item1.properties.industria.sector_values[i].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item1.properties.industria.sector_values[i].value+"</p></td></tr>";
					};
	
					$("#indicator1").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item1.properties.industria.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator1_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item1.properties.industria.carbono_emissions+"</p>").tooltip('fixTitle');
					
					//Indicator 2-item1
					var total_fuentes = item1.properties.fuentes.sector_values.length;
					var indicator2_rows = "";
					
					for(j=0; j<total_fuentes; j++){
						indicator2_rows = indicator2_rows + "<tr><td style='width:50%'><p class='text-center'>"+item1.properties.fuentes.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item1.properties.fuentes.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator2").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item1.properties.fuentes.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator2_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item1.properties.fuentes.carbono_emissions+"</p>").tooltip('fixTitle');
					
					//Indicator 3-item1
					var total_generacion = item1.properties.generacion.sector_values.length;
					var indicator3_rows = "";
					
					for(j=0; j<total_generacion; j++){
						indicator3_rows = indicator3_rows + "<tr><td style='width:50%'><p class='text-center'>"+item1.properties.generacion.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item1.properties.generacion.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator3").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item1.properties.generacion.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator3_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item1.properties.generacion.carbono_emissions+"</p>").tooltip('fixTitle');
					
					//Indicator 4-item1
					var total_agropecuario = item1.properties.agropecuario.sector_values.length;
					var indicator4_rows = "";
					
					for(j=0; j<total_agropecuario; j++){
						indicator4_rows = indicator4_rows + "<tr><td style='width:50%'><p class='text-center'>"+item1.properties.agropecuario.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item1.properties.agropecuario.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator4").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item1.properties.agropecuario.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator4_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item1.properties.agropecuario.carbono_emissions+"</p>").tooltip('fixTitle');																				
					//Indicator 5-item1
					var total_residuos = item1.properties.residuos.sector_values.length;
					var indicator5_rows = "";
					
					for(j=0; j<total_residuos; j++){
						indicator5_rows = indicator5_rows + "<tr><td style='width:50%'><p class='text-center'>"+item1.properties.residuos.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item1.properties.residuos.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator5").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item1.properties.residuos.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator5_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item1.properties.residuos.carbono_emissions+"</p>").tooltip('fixTitle');					

					//Indicator 6-item1
					var total_carbono = item1.properties.carbono.sector_values.length;
					var indicator6_rows = "";
					
					for(j=0; j<total_residuos; j++){
						indicator6_rows = indicator5_rows + "<tr><td style='width:50%'><p class='text-center'>"+item1.properties.carbono.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item1.properties.carbono.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator6").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item1.properties.carbono.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator6_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item1.properties.carbono.carbono_emissions+"</p>").tooltip('fixTitle');

				};
				
				function setIndicator2Values(){

					//Indicator 1-item2
					var total_industria = item2.properties.industria.sector_values.length;
					var indicator1_rows = item2.properties.industria.sector_values[0].name;
						
					$("#indicator1").attr('title', "<p style='font-size:10px;' class='text-center'>"+indicator1_rows+"</p>").tooltip('fixTitle');
					
					//Indicator 2-item2
					var total_fuentes = item2.properties.fuentes.sector_values.length;
					var indicator2_rows = item2.properties.fuentes.sector_values[0].name;
						
					$("#indicator2").attr('title', "<p style='font-size:10px;' class='text-center'>"+indicator2_rows+"</p>").tooltip('fixTitle');
					
					//Indicator 3-item2
					var total_generacion = item2.properties.generacion.sector_values.length;
					var indicator3_rows = item2.properties.generacion.sector_values[0].name;
						
					$("#indicator3").attr('title', "<p style='font-size:10px;' class='text-center'>"+indicator3_rows+"</p>").tooltip('fixTitle');
					
					//Indicator 4-item2
					var total_agropecuario = item2.properties.agropecuario.sector_values.length;
					var indicator4_rows = item2.properties.agropecuario.sector_values[0].name;
						
					$("#indicator4").attr('title', "<p style='font-size:10px;' class='text-center'>"+indicator4_rows+"</p>").tooltip('fixTitle');
																									
					//Indicator 5-item2
					var total_residuos = item2.properties.residuos.sector_values.length;
					var indicator5_rows = item2.properties.residuos.sector_values[0].name;
						
					$("#indicator5").attr('title', "<p style='font-size:10px;' class='text-center'>"+indicator5_rows+"</p>").tooltip('fixTitle');					

					//Indicator 6-item2
					var total_carbono = item2.properties.carbono.sector_values.length;
					var indicator6_rows = item2.properties.carbono.sector_values[0].name;
						
					$("#indicator6").attr('title', "<p style='font-size:10px;' class='text-center'>"+indicator6_rows+"</p>").tooltip('fixTitle');

				};
				
				function setIndicator3Values(){

					//Indicator 1-item1
					var total_industria = item3.properties.industria.sector_values.length;
					var indicator1_rows = "";
					
					for(i=0; i<total_industria; i++){
						indicator1_rows = indicator1_rows + "<tr><td style='width:50%'><p class='text-center'>"+item3.properties.industria.sector_values[i].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item3.properties.industria.sector_values[i].value+"</p></td></tr>";
					};
	
					$("#indicator1").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item3.properties.industria.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator1_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item3.properties.industria.carbono_emissions+"</p>").tooltip('fixTitle');
					
					//Indicator 2-item3
					var total_fuentes = item3.properties.fuentes.sector_values.length;
					var indicator2_rows = "";
					
					for(j=0; j<total_fuentes; j++){
						indicator2_rows = indicator2_rows + "<tr><td style='width:50%'><p class='text-center'>"+item3.properties.fuentes.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item3.properties.fuentes.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator2").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item3.properties.fuentes.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator2_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item3.properties.fuentes.carbono_emissions+"</p>").tooltip('fixTitle');
					
					//Indicator 3-item3
					var total_generacion = item3.properties.generacion.sector_values.length;
					var indicator3_rows = "";
					
					for(j=0; j<total_generacion; j++){
						indicator3_rows = indicator3_rows + "<tr><td style='width:50%'><p class='text-center'>"+item3.properties.generacion.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item3.properties.generacion.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator3").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item3.properties.generacion.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator3_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item3.properties.generacion.carbono_emissions+"</p>").tooltip('fixTitle');
					
					//Indicator 4-item3
					var total_agropecuario = item3.properties.agropecuario.sector_values.length;
					var indicator4_rows = "";
					
					for(j=0; j<total_agropecuario; j++){
						indicator4_rows = indicator4_rows + "<tr><td style='width:50%'><p class='text-center'>"+item3.properties.agropecuario.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item3.properties.agropecuario.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator4").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item3.properties.agropecuario.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator4_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item3.properties.agropecuario.carbono_emissions+"</p>").tooltip('fixTitle');																				
					//Indicator 5-item3
					var total_residuos = item3.properties.residuos.sector_values.length;
					var indicator5_rows = "";
					
					for(j=0; j<total_residuos; j++){
						indicator5_rows = indicator5_rows + "<tr><td style='width:50%'><p class='text-center'>"+item3.properties.residuos.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item3.properties.residuos.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator5").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item3.properties.residuos.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator5_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item3.properties.residuos.carbono_emissions+"</p>").tooltip('fixTitle');					

					//Indicator 6-item3
					var total_carbono = item3.properties.carbono.sector_values.length;
					var indicator6_rows = "";
					
					for(j=0; j<total_residuos; j++){
						indicator6_rows = indicator5_rows + "<tr><td style='width:50%'><p class='text-center'>"+item3.properties.carbono.sector_values[j].name+":  </p></td><td style='width:50%'><p class='text-center'>"+item3.properties.carbono.sector_values[j].value+"</p></td></tr>";
					};
	
					$("#indicator6").attr('title', "<div><p style='font-size:15px;' class='text-center'>Sector: "+item3.properties.carbono.title+"</p></div><table class='centar-block' style='width:100%'>"+indicator6_rows+"</table><br>"+"<p style='font-size:15px;' class='text-center'>Emisiones del sector:</p>" + "<p style='font-size:10px;' class='text-center'> "+item3.properties.carbono.carbono_emissions+"</p>").tooltip('fixTitle');

				};

				//Default values 1
				setIndicator1Values();
				
				$("#item1").click(function(){
					//alert("change");
					setIndicator1Values();
				});				
				$("#item2").click(function(){
					//alert("change2");
					setIndicator2Values();
				});				
				$("#item3").click(function(){
					//alert("change3");
					setIndicator3Values();
				});				

				/*
				$("#item2-img").attr("src", item2.imageUrl);
				$("#item2-highlight").text(item2.highlight);
				$("#item2-description").text(item2.description);
				$("#item2").attr('title', item2.tooltipDescription).tooltip('fixTitle');				
				
				$("#item3-img").attr("data-original-title", item3.tooltipDescription);					
				$("#item3-img").attr("src", item3.imageUrl);
				$("#item3-highlight").text(item3.highlight);
				$("#item3-description").text(item3.description);										
				$("#item3").attr('title', item3.tooltipDescription).tooltip('fixTitle');					
				*/	
				
		    },
		    error: function(err){
			    alert(JSON.stringify(err));
		    }		    
		});

		$(function () {
			$('[data-toggle="tooltip"]').tooltip({})
		});
		
		/*
		$.ajax("http://trebolbit.mx/cambio_climatico/data/data.csv", {
		    success: function(data) {

		        var jsonobject = csvjson.csv2json(data);
		        		        

		        var totalrows = jsonobject.rows.length;
				
				var sector = [];

				sector[0]= {
					name:jsonobject.rows[0].a_Categoria_IPCC,
				};

				if(jsonobject.rows[0].a_2012 > 0){
					sector[0].total += jsonobject.rows[0].a_2012;
				}else{
					sector[0].total = 0;
				};

				if(jsonobject.rows[0].a_2012 < 0){
					
					sector[0].total_2 += (jsonobject.rows[0].a_2012)*(-1);
				}else{
					sector[0].total_2 = 0;
				}				
				

		        var sectorIndex = 0					

		        for(i=0; i<totalrows; i++){
					
					var actualSector = jsonobject.rows[i].a_Categoria_IPCC;
					
					if(jsonobject.rows[i].a_2012 > 0){
						sector[sectorIndex].total += jsonobject.rows[i].a_2012;						
					}
					if(jsonobject.rows[i].a_2012 < 0){
						sector[sectorIndex].total_2 += (jsonobject.rows[i].a_2012)*(-1);
					}					
					
			        if(sector[sectorIndex].name != jsonobject.rows[i].a_Categoria_IPCC){
				        	
				        sectorIndex += 1;
						sector[sectorIndex] = {
							name:jsonobject.rows[i].a_Categoria_IPCC,
							total:jsonobject.rows[i].a_2012							
						};
						
						if(jsonobject.rows[i].a_2012 > 0){
							sector[sectorIndex].total = jsonobject.rows[i].a_2012;						
						}else{
							sector[sectorIndex].total = 0;
						};
						
						if(jsonobject.rows[i].a_2012 < 0){
							sector[sectorIndex].total_2 = (jsonobject.rows[i].a_2012)*(-1);
						}else{
							sector[sectorIndex].total_2 = 0;
						};						
						

			        }
		        }
		        //alert(JSON.stringify(sector));
		        
		        
			    var columns_adapted = [];
			    var groups_adapted = [];
			    groups_adapted[0] = [];			    
			    for(j=0; j<sector.length; j++){
				    columns_adapted[j]=[sector[j].name, sector[j].total,sector[j].total_2, sector[j].total - sector[j].total_2];
				    groups_adapted[0].push(sector[j].name);				    
			    };		        

				//alert(JSON.stringify(groups_adapted));		
				
				
				var chart1 = c3.generate({
					"bindto": "#chart1",			
				    data: {
				        columns: columns_adapted,
				        type: 'bar',
				        groups: groups_adapted
				    },
				    colors: {
			            "Agricultura": '#ff0000',
			            "Desechos": '#ff0000',
			            "Energía": '#ff0000'
			        }
				});				
					    

		    },
		    error: function() {
				alert("Error loading the chart data.");
		    }
		});
		*/	    		
		var chart1 = c3.generate({
			"bindto": "#chart1",
		    data: {
		        columns: [
		            ['Industria, Petróleo y Gas', 195404.445,0,0],
		            ['Residuos, Residencial y Comercial', 56542.336,0,0],
		            ['Generación Energía Eléctrica', 126607.656,0,0],
		            ['Fuentes Móviles', 174156.531,0,0],
		            ['Agropecuario y Uso de Suelos', 112593.95,0,0],
		            
		            ['Permanencias USCUSS', 0,-172997.611,0],
		            ['Emisiones Netas', 0,0,492307.308],
		        ],
		        type: 'bar',
		        groups: [
		            ['Industria, Petróleo y Gas', 'Residuos, Residencial y Comercial', 'Generación Energía Eléctrica', 'Fuentes Móviles', 'Agropecuario y Uso de Suelos', 'Permanencias USCUSS','Emisiones Netas'], ['Permanencias USCUSS'],['Emisiones Netas']
		        ]
		    },
		    color: {
		            pattern: ['#cc0000','#b20000','#990000','#7f0000','#660000','#0fc94b','#330000']
		    },
		    axis: {
		        x: {
		            type: 'category',
		            categories: ['Emisiones Brutas', 'Absorciones', 'Emisione Netas']
		        },
		        y: {
		            label: 'Gigagramos de CO2eq'
		        }
		    },
		    grid: {
		        y: {
		            lines: [{value:0}]
		        }
		    },
		
		});
		///////////////////Dendogram////////////////////////////////
		
		var margin = {top: 20, right: 120, bottom: 20, left: 40},
		    width = 760 - margin.right - margin.left,
		    height = 800 - margin.top - margin.bottom;
		
		var i = 0,
		    duration = 750,
		    root;
		
		var tree = d3.layout.tree()
		    .size([height, width]);
		
		var diagonal = d3.svg.diagonal()
		    .projection(function(d) { return [d.y, d.x]; });
		
		var svg = d3.select("#dendogram").append("svg")
		    .attr("width", width + margin.right + margin.left)
		    .attr("height", height + margin.top + margin.bottom)
		  .append("g")
		    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
		
		d3.json("data/tree_pecc.json", function(error, flare) {
		  if (error) throw error;
		
		  root = flare;
		  root.x0 = height / 2;
		  root.y0 = 0;
		
		  function collapse(d) {
		    if (d.children) {
		      d._children = d.children;
		      d._children.forEach(collapse);
		      d.children = null;
		    }
		  }
		
		  root.children.forEach(collapse);
		  update(root);
		});
		
		d3.select(self.frameElement).style("height", "800px");
		
		function update(source) {
		
		  // Compute the new tree layout.
		  var nodes = tree.nodes(root).reverse(),
		      links = tree.links(nodes);
		
		  // Normalize for fixed-depth.
		  nodes.forEach(function(d) { d.y = d.depth * 180; });
		
		  // Update the nodes…
		  var node = svg.selectAll("g.node")
		      .data(nodes, function(d) { return d.id || (d.id = ++i); });
		
		  // Enter any new nodes at the parent's previous position.
		  var nodeEnter = node.enter().append("g")
		      .attr("class", "node")
		      .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; })
		      .on("click", click)
		      .on("mouseover", mouseover)
		      .on("mouseout", mouseout);
		
		  nodeEnter.append("circle")
		      .attr("r", 1e-6)
		      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });
		
		  nodeEnter.append("text")
		      .attr("x", function(d) { return d.children || d._children ? -10 : 10; })
		      .attr("dy", ".35em")
		      .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
		      .text(function(d) { return d.name; })
		      .style("fill-opacity", 1e-6);
		
		  // Transition nodes to their new position.
		  var nodeUpdate = node.transition()
		      .duration(duration)
		      .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });
		
		  nodeUpdate.select("circle")
		      .attr("r", 4.5)
		      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });
		
		  nodeUpdate.select("text")
		      .style("fill-opacity", 1);
		
		  // Transition exiting nodes to the parent's new position.
		  var nodeExit = node.exit().transition()
		      .duration(duration)
		      .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })
		      .remove();
		
		  nodeExit.select("circle")
		      .attr("r", 1e-6);
		
		  nodeExit.select("text")
		      .style("fill-opacity", 1e-6);
		
		  // Update the links…
		  var link = svg.selectAll("path.link")
		      .data(links, function(d) { return d.target.id; });
		
		  // Enter any new links at the parent's previous position.
		  link.enter().insert("path", "g")
		      .attr("class", "link")
		      .attr("d", function(d) {
		        var o = {x: source.x0, y: source.y0};
		        return diagonal({source: o, target: o});
		      });
		
		  // Transition links to their new position.
		  link.transition()
		      .duration(duration)
		      .attr("d", diagonal);
		
		  // Transition exiting nodes to the parent's new position.
		  link.exit().transition()
		      .duration(duration)
		      .attr("d", function(d) {
		        var o = {x: source.x, y: source.y};
		        return diagonal({source: o, target: o});
		      })
		      .remove();
		
		  // Stash the old positions for transition.
		  nodes.forEach(function(d) {
		    d.x0 = d.x;
		    d.y0 = d.y;
		  });
		}
		
		// Toggle children on click.
		function click(d) {
		  if (d.children) {
		    d._children = d.children;
		    d.children = null;
		  } else {
		    d.children = d._children;
		    d._children = null;
		  }
		  update(d);
		}
		
		function mouseover(d) {
		    d3.select(this).append("text")
		        .attr("class", "hover")
		        .attr('transform', function(d){ 
		            return 'translate(5, -10)';
		        })
		        .text(d.info);
		}
		
		// Toggle children on click.
		function mouseout(d) {
		    d3.select(this).select("text.hover").remove();
		}

///////////////////////////////Rects Char//////////////////////////////////////////
			
	</script>  
  </body>	
</html>
